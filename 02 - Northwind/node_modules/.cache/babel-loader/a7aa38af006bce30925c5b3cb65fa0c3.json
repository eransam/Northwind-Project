{"ast":null,"code":"import _objectSpread from\"C:/Users/erans/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/\\u200F\\u200F\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05D7\\u05D3\\u05E9\\u05D4/02 - Northwind/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/erans/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/\\u200F\\u200F\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05D7\\u05D3\\u05E9\\u05D4/02 - Northwind/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\erans\\\\OneDrive\\\\\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4\\\\\\u200F\\u200F\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05D7\\u05D3\\u05E9\\u05D4\\\\02 - Northwind\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useForm}from\"react-hook-form\";import{useNavigate}from\"react-router-dom\";import notify from\"../../../Services/NotifyService\";import productsService from\"../../../Services/ProductsService\";import\"./AddProduct.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddProduct(){var _formState$errors$nam,_formState$errors$pri,_formState$errors$sto;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,formState=_useForm.formState;var navigate=useNavigate();function submit(_x){return _submit.apply(this,arguments);}function _submit(){_submit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(product){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return productsService.addNewProduct(product);case 3:notify.success(\"Product has been added!\");// Navigate back to all products: \nnavigate(\"/products\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);notify.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _submit.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"AddProduct Box\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(submit),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Product\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Name: \"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\"},register(\"name\",{required:{value:true,message:\"Missing product name\"}}))),/*#__PURE__*/_jsx(\"span\",{children:(_formState$errors$nam=formState.errors.name)===null||_formState$errors$nam===void 0?void 0:_formState$errors$nam.message}),/*#__PURE__*/_jsx(\"label\",{children:\"Price: \"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"number\",step:\"0.01\"},register(\"price\",{required:{value:true,message:\"Missing price\"},min:{value:0,message:\"Price can't be negative\"},max:{value:1000,message:\"Price can't exceed 1000\"}}))),/*#__PURE__*/_jsx(\"span\",{children:(_formState$errors$pri=formState.errors.price)===null||_formState$errors$pri===void 0?void 0:_formState$errors$pri.message}),/*#__PURE__*/_jsx(\"label\",{children:\"Stock: \"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"number\"},register(\"stock\",{required:{value:true,message:\"Missing stock\"},min:{value:0,message:\"Stock can't be negative\"},max:{value:1000,message:\"Stock can't exceed 1000\"}}))),/*#__PURE__*/_jsx(\"span\",{children:(_formState$errors$sto=formState.errors.stock)===null||_formState$errors$sto===void 0?void 0:_formState$errors$sto.message}),/*#__PURE__*/_jsx(\"label\",{children:\"Image: \"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"file\",accept:\"image/*\"},register(\"image\"))),/*#__PURE__*/_jsx(\"button\",{children:\"Add\"})]})});}export default AddProduct;","map":{"version":3,"sources":["C:/Users/erans/OneDrive/שולחן העבודה/‏‏תיקיה חדשה/02 - Northwind/src/Components/ProductsArea/AddProduct/AddProduct.tsx"],"names":["useForm","useNavigate","notify","productsService","AddProduct","register","handleSubmit","formState","navigate","submit","product","addNewProduct","success","error","required","value","message","errors","name","min","max","price","stock"],"mappings":"yxBACA,OAASA,OAAT,KAAwB,iBAAxB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,iCAAnB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mCAA5B,CAEA,MAAO,kBAAP,C,wFAEA,QAASC,CAAAA,UAAT,EAAmC,uEAE/B,aAA8CJ,OAAO,EAArD,CAAQK,QAAR,UAAQA,QAAR,CAAkBC,YAAlB,UAAkBA,YAAlB,CAAgCC,SAAhC,UAAgCA,SAAhC,CAEA,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAJ+B,QAMhBQ,CAAAA,MANgB,8HAM/B,iBAAsBC,OAAtB,wJAGcP,CAAAA,eAAe,CAACQ,aAAhB,CAA8BD,OAA9B,CAHd,QAKQR,MAAM,CAACU,OAAP,CAAe,yBAAf,EAEA;AACAJ,QAAQ,CAAC,WAAD,CAAR,CARR,+EAWQN,MAAM,CAACW,KAAP,cAXR,oEAN+B,yCAqB/B,mBACI,YAAK,SAAS,CAAC,gBAAf,uBAEI,cAAM,QAAQ,CAAEP,YAAY,CAACG,MAAD,CAA5B,wBAEI,mCAFJ,cAII,iCAJJ,cAKI,4BAAO,IAAI,CAAC,MAAZ,EAAuBJ,QAAQ,CAAC,MAAD,CAAS,CACpCS,QAAQ,CAAE,CAAEC,KAAK,CAAE,IAAT,CAAeC,OAAO,CAAE,sBAAxB,CAD0B,CAAT,CAA/B,EALJ,cAQI,6CAAOT,SAAS,CAACU,MAAV,CAAiBC,IAAxB,gDAAO,sBAAuBF,OAA9B,EARJ,cAUI,kCAVJ,cAWI,4BAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,MAA1B,EAAqCX,QAAQ,CAAC,OAAD,CAAU,CACnDS,QAAQ,CAAE,CAAEC,KAAK,CAAE,IAAT,CAAeC,OAAO,CAAE,eAAxB,CADyC,CAEnDG,GAAG,CAAE,CAAEJ,KAAK,CAAE,CAAT,CAAYC,OAAO,CAAE,yBAArB,CAF8C,CAGnDI,GAAG,CAAE,CAAEL,KAAK,CAAE,IAAT,CAAeC,OAAO,CAAE,yBAAxB,CAH8C,CAAV,CAA7C,EAXJ,cAgBI,6CAAOT,SAAS,CAACU,MAAV,CAAiBI,KAAxB,gDAAO,sBAAwBL,OAA/B,EAhBJ,cAkBI,kCAlBJ,cAmBI,4BAAO,IAAI,CAAC,QAAZ,EAAyBX,QAAQ,CAAC,OAAD,CAAU,CACvCS,QAAQ,CAAE,CAAEC,KAAK,CAAE,IAAT,CAAeC,OAAO,CAAE,eAAxB,CAD6B,CAEvCG,GAAG,CAAE,CAAEJ,KAAK,CAAE,CAAT,CAAYC,OAAO,CAAE,yBAArB,CAFkC,CAGvCI,GAAG,CAAE,CAAEL,KAAK,CAAE,IAAT,CAAeC,OAAO,CAAE,yBAAxB,CAHkC,CAAV,CAAjC,EAnBJ,cAwBI,6CAAOT,SAAS,CAACU,MAAV,CAAiBK,KAAxB,gDAAO,sBAAwBN,OAA/B,EAxBJ,cA0BI,kCA1BJ,cA2BI,4BAAO,IAAI,CAAC,MAAZ,CAAmB,MAAM,CAAC,SAA1B,EAAwCX,QAAQ,CAAC,OAAD,CAAhD,EA3BJ,cA6BI,+BA7BJ,GAFJ,EADJ,CAsCH,CAED,cAAeD,CAAAA,UAAf","sourcesContent":["import axios from \"axios\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport ProductModel from \"../../../Models/ProductModel\";\nimport notify from \"../../../Services/NotifyService\";\nimport productsService from \"../../../Services/ProductsService\";\nimport config from \"../../../Utils/Config\";\nimport \"./AddProduct.css\";\n\nfunction AddProduct(): JSX.Element {\n\n    const { register, handleSubmit, formState } = useForm<ProductModel>();\n\n    const navigate = useNavigate();\n\n    async function submit(product: ProductModel) {\n        try {\n\n            await productsService.addNewProduct(product);\n            \n            notify.success(\"Product has been added!\");\n\n            // Navigate back to all products: \n            navigate(\"/products\");\n        }\n        catch (err: any) {\n            notify.error(err);\n        }\n    }\n\n    return (\n        <div className=\"AddProduct Box\">\n\n            <form onSubmit={handleSubmit(submit)}>\n\n                <h2>Add Product</h2>\n\n                <label>Name: </label>\n                <input type=\"text\" {...register(\"name\", {\n                    required: { value: true, message: \"Missing product name\" }\n                })} />\n                <span>{formState.errors.name?.message}</span>\n\n                <label>Price: </label>\n                <input type=\"number\" step=\"0.01\" {...register(\"price\", {\n                    required: { value: true, message: \"Missing price\" },\n                    min: { value: 0, message: \"Price can't be negative\" },\n                    max: { value: 1000, message: \"Price can't exceed 1000\" },\n                })} />\n                <span>{formState.errors.price?.message}</span>\n\n                <label>Stock: </label>\n                <input type=\"number\" {...register(\"stock\", {\n                    required: { value: true, message: \"Missing stock\" },\n                    min: { value: 0, message: \"Stock can't be negative\" },\n                    max: { value: 1000, message: \"Stock can't exceed 1000\" },\n                })} />\n                <span>{formState.errors.stock?.message}</span>\n\n                <label>Image: </label>\n                <input type=\"file\" accept=\"image/*\" {...register(\"image\")} />\n\n                <button>Add</button>\n\n            </form>\n\n        </div>\n    );\n}\n\nexport default AddProduct;\n"]},"metadata":{},"sourceType":"module"}