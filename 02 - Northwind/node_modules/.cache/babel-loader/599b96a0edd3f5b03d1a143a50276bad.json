{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/erans/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/\\u200F\\u200F\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05D7\\u05D3\\u05E9\\u05D4/02 - Northwind/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/erans/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/\\u200F\\u200F\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05D7\\u05D3\\u05E9\\u05D4/02 - Northwind/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/erans/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/\\u200F\\u200F\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05D7\\u05D3\\u05E9\\u05D4/02 - Northwind/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\erans\\\\OneDrive\\\\\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4\\\\\\u200F\\u200F\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05D7\\u05D3\\u05E9\\u05D4\\\\02 - Northwind\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import{loginAction,logoutAction,registerAction}from\"../Redux/AuthState\";import store from\"../Redux/Store\";import config from\"../Utils/Config\";var AuthService=/*#__PURE__*/function(){function AuthService(){_classCallCheck(this,AuthService);}_createClass(AuthService,[{key:\"register\",value:function(){var _register=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(user){var response,token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(config.registerUrl,user);case 2:response=_context.sent;token=response.data;store.dispatch(registerAction(token));case 5:case\"end\":return _context.stop();}}},_callee);}));function register(_x){return _register.apply(this,arguments);}return register;}()},{key:\"login\",value:function(){var _login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(credentials){var response,token;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(config.loginUrl,credentials);case 2:response=_context2.sent;// Unique case for post without adding data to database.\ntoken=response.data;store.dispatch(loginAction(token));case 5:case\"end\":return _context2.stop();}}},_callee2);}));function login(_x2){return _login.apply(this,arguments);}return login;}()},{key:\"logout\",value:function logout(){store.dispatch(logoutAction());}}]);return AuthService;}();var authService=new AuthService();export default authService;","map":{"version":3,"sources":["C:/Users/erans/OneDrive/שולחן העבודה/‏‏תיקיה חדשה/02 - Northwind/src/Services/AuthService.ts"],"names":["axios","loginAction","logoutAction","registerAction","store","config","AuthService","user","post","registerUrl","response","token","data","dispatch","credentials","loginUrl","authService"],"mappings":"4hCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAGA,OAASC,WAAT,CAAsBC,YAAtB,CAAoCC,cAApC,KAA0D,oBAA1D,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,C,GAEMC,CAAAA,W,oNAEF,iBAAsBC,IAAtB,2JAC2BP,CAAAA,KAAK,CAACQ,IAAN,CAAmBH,MAAM,CAACI,WAA1B,CAAuCF,IAAvC,CAD3B,QACUG,QADV,eAEUC,KAFV,CAEkBD,QAAQ,CAACE,IAF3B,CAGIR,KAAK,CAACS,QAAN,CAAeV,cAAc,CAACQ,KAAD,CAA7B,EAHJ,sD,uLAMA,kBAAmBG,WAAnB,gKAC2Bd,CAAAA,KAAK,CAACQ,IAAN,CAAmBH,MAAM,CAACU,QAA1B,CAAoCD,WAApC,CAD3B,QACUJ,QADV,gBAC6E;AACnEC,KAFV,CAEkBD,QAAQ,CAACE,IAF3B,CAGIR,KAAK,CAACS,QAAN,CAAeZ,WAAW,CAACU,KAAD,CAA1B,EAHJ,wD,kGAMA,iBAAsB,CAClBP,KAAK,CAACS,QAAN,CAAeX,YAAY,EAA3B,EACH,C,2BAIL,GAAMc,CAAAA,WAAW,CAAG,GAAIV,CAAAA,WAAJ,EAApB,CAEA,cAAeU,CAAAA,WAAf","sourcesContent":["import axios from \"axios\";\r\nimport CredentialsModel from \"../Models/CredentialsModel\";\r\nimport UserModel from \"../Models/UserModel\";\r\nimport { loginAction, logoutAction, registerAction } from \"../Redux/AuthState\";\r\nimport store from \"../Redux/Store\";\r\nimport config from \"../Utils/Config\";\r\n\r\nclass AuthService {\r\n\r\n    public async register(user: UserModel): Promise<void> {\r\n        const response = await axios.post<string>(config.registerUrl, user);\r\n        const token = response.data;\r\n        store.dispatch(registerAction(token));\r\n    }\r\n\r\n    public async login(credentials: CredentialsModel): Promise<void> {\r\n        const response = await axios.post<string>(config.loginUrl, credentials); // Unique case for post without adding data to database.\r\n        const token = response.data;\r\n        store.dispatch(loginAction(token));\r\n    }\r\n\r\n    public logout(): void {\r\n        store.dispatch(logoutAction());\r\n    }\r\n\r\n}\r\n\r\nconst authService = new AuthService();\r\n\r\nexport default authService;"]},"metadata":{},"sourceType":"module"}