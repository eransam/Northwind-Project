{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/erans/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/\\u200F\\u200F\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05D7\\u05D3\\u05E9\\u05D4/02 - Northwind/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/erans/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/\\u200F\\u200F\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05D7\\u05D3\\u05E9\\u05D4/02 - Northwind/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\erans\\\\OneDrive\\\\\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4\\\\\\u200F\\u200F\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05D7\\u05D3\\u05E9\\u05D4\\\\02 - Northwind\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{useParams}from\"react-router-dom\";import notify from\"../../../Services/NotifyService\";import productsService from\"../../../Services/ProductsService\";import config from\"../../../Utils/Config\";import Loading from\"../../SharedArea/Loading/Loading\";import\"./ProductDetails.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProductDetails(){// Get Route Parameter: \nvar params=useParams();var id=+params.id;// Create state for the product to display: \nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];// AJAX request that product:\nuseEffect(function(){productsService.getOneProduct(id).then(function(product){return setProduct(product);}).catch(function(err){return notify.error(err);});},[]);var navigate=useNavigate();function deleteProduct(){return _deleteProduct.apply(this,arguments);}function _deleteProduct(){_deleteProduct=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var confirmDelete;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;// Are you sure message: \nconfirmDelete=window.confirm(\"Are you sure?\");if(confirmDelete){_context.next=4;break;}return _context.abrupt(\"return\");case 4:_context.next=6;return productsService.deleteOneProduct(id);case 6:notify.success(\"Product deleted\");navigate(\"/products\");_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);notify.error(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return _deleteProduct.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"ProductDetails\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Product Details\"}),!product&&/*#__PURE__*/_jsx(Loading,{}),product&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Name: \",product.name]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Price: \",product.price]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Stock: \",product.stock]}),/*#__PURE__*/_jsx(\"img\",{src:config.productsImageUrl+product.imageName}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(-1);},children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/products/edit/\"+product.id);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteProduct,children:\"Delete\"})]})]});}export default ProductDetails;","map":{"version":3,"sources":["C:/Users/erans/OneDrive/שולחן העבודה/‏‏תיקיה חדשה/02 - Northwind/src/Components/ProductsArea/ProductDetails/ProductDetails.tsx"],"names":["useEffect","useState","useNavigate","useParams","notify","productsService","config","Loading","ProductDetails","params","id","product","setProduct","getOneProduct","then","catch","err","error","navigate","deleteProduct","confirmDelete","window","confirm","deleteOneProduct","success","name","price","stock","productsImageUrl","imageName"],"mappings":"0xBACA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAAkBC,WAAlB,KAAqC,kBAArC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,iCAAnB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mCAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kCAApB,CACA,MAAO,sBAAP,C,6IAEA,QAASC,CAAAA,cAAT,EAAuC,CAEnC;AACA,GAAMC,CAAAA,MAAM,CAAGN,SAAS,EAAxB,CACA,GAAMO,CAAAA,EAAE,CAAG,CAACD,MAAM,CAACC,EAAnB,CAEA;AACA,cAA8BT,QAAQ,EAAtC,wCAAOU,OAAP,eAAgBC,UAAhB,eAEA;AACAZ,SAAS,CAAC,UAAM,CACZK,eAAe,CAACQ,aAAhB,CAA8BH,EAA9B,EACKI,IADL,CACU,SAAAH,OAAO,QAAIC,CAAAA,UAAU,CAACD,OAAD,CAAd,EADjB,EAEKI,KAFL,CAEW,SAAAC,GAAG,QAAIZ,CAAAA,MAAM,CAACa,KAAP,CAAaD,GAAb,CAAJ,EAFd,EAGH,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAME,CAAAA,QAAQ,CAAGhB,WAAW,EAA5B,CAhBmC,QAkBpBiB,CAAAA,aAlBoB,iJAkBnC,qKAGQ;AACMC,aAJd,CAI8BC,MAAM,CAACC,OAAP,CAAe,eAAf,CAJ9B,IAKaF,aALb,uFAQcf,CAAAA,eAAe,CAACkB,gBAAhB,CAAiCb,EAAjC,CARd,QASQN,MAAM,CAACoB,OAAP,CAAe,iBAAf,EAEAN,QAAQ,CAAC,WAAD,CAAR,CAXR,iFAcQd,MAAM,CAACa,KAAP,cAdR,qEAlBmC,gDAoCnC,mBACI,aAAK,SAAS,CAAC,gBAAf,wBAEI,uCAFJ,CAIK,CAACN,OAAD,eAAY,KAAC,OAAD,IAJjB,CAMKA,OAAO,eACJ,wCACI,+BAAWA,OAAO,CAACc,IAAnB,GADJ,cAEI,gCAAYd,OAAO,CAACe,KAApB,GAFJ,cAGI,gCAAYf,OAAO,CAACgB,KAApB,GAHJ,cAII,YAAK,GAAG,CAAErB,MAAM,CAACsB,gBAAP,CAA0BjB,OAAO,CAACkB,SAA5C,EAJJ,cAMI,aANJ,cAYI,eAAQ,OAAO,CAAE,yBAAMX,CAAAA,QAAQ,CAAC,CAAC,CAAF,CAAd,EAAjB,kBAZJ,cAaI,eAAQ,OAAO,CAAE,yBAAMA,CAAAA,QAAQ,CAAC,kBAAoBP,OAAO,CAACD,EAA7B,CAAd,EAAjB,kBAbJ,cAcI,eAAQ,OAAO,CAAES,aAAjB,oBAdJ,GAPR,GADJ,CA4BH,CAED,cAAeX,CAAAA,cAAf","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom\";\nimport ProductModel from \"../../../Models/ProductModel\";\nimport notify from \"../../../Services/NotifyService\";\nimport productsService from \"../../../Services/ProductsService\";\nimport config from \"../../../Utils/Config\";\nimport Loading from \"../../SharedArea/Loading/Loading\";\nimport \"./ProductDetails.css\";\n\nfunction ProductDetails(): JSX.Element {\n\n    // Get Route Parameter: \n    const params = useParams();\n    const id = +params.id;\n\n    // Create state for the product to display: \n    const [product, setProduct] = useState<ProductModel>();\n\n    // AJAX request that product:\n    useEffect(() => {\n        productsService.getOneProduct(id)\n            .then(product => setProduct(product))\n            .catch(err => notify.error(err));\n    }, []);\n\n    const navigate = useNavigate();\n\n    async function deleteProduct() {\n        try {\n\n            // Are you sure message: \n            const confirmDelete = window.confirm(\"Are you sure?\");\n            if (!confirmDelete) return;\n\n            // Delete this product: \n            await productsService.deleteOneProduct(id);\n            notify.success(\"Product deleted\");\n\n            navigate(\"/products\");\n        }\n        catch (err: any) {\n            notify.error(err);\n        }\n    }\n\n    return (\n        <div className=\"ProductDetails\">\n\n            <h2>Product Details</h2>\n\n            {!product && <Loading />}\n\n            {product &&\n                <>\n                    <h3>Name: {product.name}</h3>\n                    <h3>Price: {product.price}</h3>\n                    <h3>Stock: {product.stock}</h3>\n                    <img src={config.productsImageUrl + product.imageName} />\n\n                    <br />\n\n                    {/* Navigate Back: */}\n                    {/* <NavLink to=\"/products\">Back</NavLink> */}\n\n                    {/* Navigate Back: */}\n                    <button onClick={() => navigate(-1)}>Back</button>\n                    <button onClick={() => navigate(\"/products/edit/\" + product.id)}>Edit</button>\n                    <button onClick={deleteProduct}>Delete</button>\n                </>\n            }\n\n        </div>\n    );\n}\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}