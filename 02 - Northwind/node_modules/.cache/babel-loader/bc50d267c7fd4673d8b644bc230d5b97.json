{"ast":null,"code":"import _objectSpread from\"C:/Users/erans/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/\\u200F\\u200F\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05D7\\u05D3\\u05E9\\u05D4/02 - Northwind/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/erans/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/\\u200F\\u200F\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05D7\\u05D3\\u05E9\\u05D4/02 - Northwind/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\erans\\\\OneDrive\\\\\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4\\\\\\u200F\\u200F\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05D7\\u05D3\\u05E9\\u05D4\\\\02 - Northwind\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useForm}from\"react-hook-form\";import{useNavigate}from\"react-router-dom\";import authService from\"../../../Services/AuthService\";import notify from\"../../../Services/NotifyService\";import\"./Login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var navigate=useNavigate();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,formState=_useForm.formState;function submit(_x){return _submit.apply(this,arguments);}function _submit(){_submit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(credentials){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return authService.login(credentials);case 3:notify.success(\"You are now logged-in\");navigate(\"/home\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);notify.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _submit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"Login Box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(submit),children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username: \"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\"},register(\"username\"))),/*#__PURE__*/_jsx(\"label\",{children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"password\"},register(\"password\"))),/*#__PURE__*/_jsx(\"button\",{children:\"Login\"})]})]});}export default Login;","map":{"version":3,"sources":["C:/Users/erans/OneDrive/שולחן העבודה/‏‏תיקיה חדשה/02 - Northwind/src/Components/AuthArea/Login/Login.tsx"],"names":["useForm","useNavigate","authService","notify","Login","navigate","register","handleSubmit","formState","submit","credentials","login","success","error"],"mappings":"yxBAAA,OAASA,OAAT,KAAwB,iBAAxB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iCAAnB,CACA,MAAO,aAAP,C,wFAEA,QAASC,CAAAA,KAAT,EAA8B,CAE1B,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,aAA8CD,OAAO,EAArD,CAAQM,QAAR,UAAQA,QAAR,CAAkBC,YAAlB,UAAkBA,YAAlB,CAAgCC,SAAhC,UAAgCA,SAAhC,CAH0B,QAKXC,CAAAA,MALW,8HAK1B,iBAAsBC,WAAtB,wJAEcR,CAAAA,WAAW,CAACS,KAAZ,CAAkBD,WAAlB,CAFd,QAGQP,MAAM,CAACS,OAAP,CAAe,uBAAf,EAEAP,QAAQ,CAAC,OAAD,CAAR,CALR,+EAQQF,MAAM,CAACU,KAAP,cARR,oEAL0B,yCAiB1B,mBACI,aAAK,SAAS,CAAC,WAAf,wBAEL,6BAFK,cAII,cAAM,QAAQ,CAAEN,YAAY,CAACE,MAAD,CAA5B,wBAEI,qCAFJ,cAGI,4BAAO,IAAI,CAAC,MAAZ,EAAuBH,QAAQ,CAAC,UAAD,CAA/B,EAHJ,cAKI,qCALJ,cAMI,4BAAO,IAAI,CAAC,UAAZ,EAA2BA,QAAQ,CAAC,UAAD,CAAnC,EANJ,cAQI,iCARJ,GAJJ,GADJ,CAmBH,CAED,cAAeF,CAAAA,KAAf","sourcesContent":["import { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport CredentialsModel from \"../../../Models/CredentialsModel\";\nimport authService from \"../../../Services/AuthService\";\nimport notify from \"../../../Services/NotifyService\";\nimport \"./Login.css\";\n\nfunction Login(): JSX.Element {\n    \n    const navigate = useNavigate();\n    const { register, handleSubmit, formState } = useForm<CredentialsModel>();\n\n    async function submit(credentials: CredentialsModel) {\n        try {\n            await authService.login(credentials);\n            notify.success(\"You are now logged-in\");\n\n            navigate(\"/home\");\n        }\n        catch(err: any) {\n            notify.error(err);\n        }\n    }\n\n    return (\n        <div className=\"Login Box\">\n\n\t\t\t<h2>Login</h2>\n\n            <form onSubmit={handleSubmit(submit)}>\n\n                <label>Username: </label>\n                <input type=\"text\" {...register(\"username\")} />\n\n                <label>Password: </label>\n                <input type=\"password\" {...register(\"password\")} />\n\n                <button>Login</button>\n\n            </form>\n\n        </div>\n    );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}