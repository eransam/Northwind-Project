{"ast":null,"code":"import _slicedToArray from\"C:/Users/erans/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/\\u200F\\u200F\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05D7\\u05D3\\u05E9\\u05D4/02 - Northwind/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{NavLink}from\"react-router-dom\";import store from\"../../../Redux/Store\";import\"./AuthMenu.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AuthMenu(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];// Register \nuseEffect(function(){// Once - update user at component load: \nsetUser(store.getState().authState.user);// Subscribe to store changes - whenever AuthState change - report it:\nvar unsubscribeMe=store.subscribe(function(){setUser(store.getState().authState.user);});// When component destroyed:\nreturn function(){return unsubscribeMe();};},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"AuthMenu\",children:user===null?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Hello Guest\"}),/*#__PURE__*/_jsx(\"span\",{children:\" | \"}),/*#__PURE__*/_jsx(NavLink,{to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(\"span\",{children:\" | \"}),/*#__PURE__*/_jsx(NavLink,{to:\"/register\",children:\"Register\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Hello \",user.firstName,\" \",user.lastName]}),/*#__PURE__*/_jsx(\"span\",{children:\" | \"}),/*#__PURE__*/_jsx(NavLink,{to:\"/logout\",children:\"Logout\"})]})});}export default AuthMenu;","map":{"version":3,"sources":["C:/Users/erans/OneDrive/שולחן העבודה/‏‏תיקיה חדשה/02 - Northwind/src/Components/AuthArea/AuthMenu/AuthMenu.tsx"],"names":["useEffect","useState","NavLink","store","AuthMenu","user","setUser","getState","authState","unsubscribeMe","subscribe","firstName","lastName"],"mappings":"oQAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,OAAT,KAAwB,kBAAxB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,sBAAlB,CACA,MAAO,gBAAP,C,6IAEA,QAASC,CAAAA,QAAT,EAAiC,CAE7B,cAAwBH,QAAQ,CAAY,IAAZ,CAAhC,wCAAOI,IAAP,eAAaC,OAAb,eAEA;AACAN,SAAS,CAAC,UAAM,CAEZ;AACAM,OAAO,CAACH,KAAK,CAACI,QAAN,GAAiBC,SAAjB,CAA2BH,IAA5B,CAAP,CAEA;AACA,GAAMI,CAAAA,aAAa,CAAGN,KAAK,CAACO,SAAN,CAAgB,UAAM,CACxCJ,OAAO,CAACH,KAAK,CAACI,QAAN,GAAiBC,SAAjB,CAA2BH,IAA5B,CAAP,CACH,CAFqB,CAAtB,CAIA;AACA,MAAO,kBAAMI,CAAAA,aAAa,EAAnB,EAAP,CAEH,CAbQ,CAaN,EAbM,CAAT,CAeA,mBACI,YAAK,SAAS,CAAC,UAAf,UACKJ,IAAI,GAAK,IAAT,cACG,wCACI,qCADJ,cAEI,6BAFJ,cAGI,KAAC,OAAD,EAAS,EAAE,CAAC,QAAZ,mBAHJ,cAII,6BAJJ,cAKI,KAAC,OAAD,EAAS,EAAE,CAAC,WAAZ,sBALJ,GADH,cASG,wCACI,iCAAaA,IAAI,CAACM,SAAlB,KAA8BN,IAAI,CAACO,QAAnC,GADJ,cAEI,6BAFJ,cAGI,KAAC,OAAD,EAAS,EAAE,CAAC,SAAZ,oBAHJ,GAVR,EADJ,CAmBH,CAED,cAAeR,CAAAA,QAAf","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport UserModel from \"../../../Models/UserModel\";\nimport store from \"../../../Redux/Store\";\nimport \"./AuthMenu.css\";\n\nfunction AuthMenu(): JSX.Element {\n\n    const [user, setUser] = useState<UserModel>(null);\n\n    // Register \n    useEffect(() => {\n\n        // Once - update user at component load: \n        setUser(store.getState().authState.user);\n\n        // Subscribe to store changes - whenever AuthState change - report it:\n        const unsubscribeMe = store.subscribe(() => {\n            setUser(store.getState().authState.user);\n        });\n\n        // When component destroyed:\n        return () => unsubscribeMe();\n\n    }, []);\n\n    return (\n        <div className=\"AuthMenu\">\n            {user === null ?\n                <>\n                    <span>Hello Guest</span>\n                    <span> | </span>\n                    <NavLink to=\"/login\">Login</NavLink>\n                    <span> | </span>\n                    <NavLink to=\"/register\">Register</NavLink>\n                </>\n                :\n                <>\n                    <span>Hello {user.firstName} {user.lastName}</span>\n                    <span> | </span>\n                    <NavLink to=\"/logout\">Logout</NavLink>\n                </>\n            }\n        </div>\n    );\n}\n\nexport default AuthMenu;\n"]},"metadata":{},"sourceType":"module"}